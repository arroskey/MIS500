NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5          OPTIONS LOCALE=en_US DFLANG=LOCALE VALIDVARNAME=V7 VALIDMEMNAME=EXTEND;
6          
7          OPTIONS NOSYNTAXCHECK;
8          DATA _NULL_;
9          RC=DLGCDIR('/folders/myfolders/MEPS/PortfolioCode');
10         RUN;

NOTE: The current working directory is now "/folders/myfolders/MEPS/PortfolioCode".
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11         OPTIONS NOSYNTAXCHECK;
12         
13         FILENAME _HTMLOUT %NRSTR("/folders/myfolders/MEPS/PortfolioCode/Exercise1a.html");
14         
15         FILENAME _GSFNAME TEMP;
16         DATA _NULL_;
17         CALL SYMPUT("GRAPHINIT","");
18         CALL SYMPUT("GRAPHTERM","");
19         RC=TSLVL('SASXGOPT','N');
20         _ERROR_=0;
21         IF (RC^=' ') THEN DO;
22         CALL SYMPUT("GRAPHINIT","GOPTIONS RESET=ALL GSFNAME=_GSFNAME;");
23         CALL SYMPUT("GRAPHTERM","GOPTIONS NOACCESSIBLE;");
24         END;
25         RUN;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

26         DATA _NULL_;
27         RC=SYSPROD("PRODNUM002");
28         IF (RC^=1) THEN DO;
29         CALL SYMPUT("GRAPHINIT","");
30         CALL SYMPUT("GRAPHTERM","");
31         END;
32         RUN;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         %LET SYSCC=0;
2                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

34         %LET _CLIENTAPP='SAS Studio';
35         %LET _CLIENTAPPABREV=Studio;
36         %LET _CLIENTAPPVERSION=3.8;
37         %LET _CLIENTVERSION=3.8;
38         %LET _CLIENTMODE=background;
39         %LET _SASSERVERNAME=%BQUOTE(localhost);
40         %LET _SASHOSTNAME=%BQUOTE(localhost);
41         %LET _SASPROGRAMFILEHOST=%BQUOTE(localhost);
42         %LET _CLIENTUSERID=%BQUOTE(sasdemo);
43         %LET _CLIENTUSERNAME=%BQUOTE(sasdemo);
44         %LET CLIENTMACHINE=%BQUOTE(10.0.2.2);
45         %LET _CLIENTMACHINE=%BQUOTE(10.0.2.2);
46         %let SASWORKLOCATION="%sysfunc(getoption(work))/";
47         FILENAME _CWD '.';
ERROR: The path /media/sf_myfolders/MEPS/PortfolioCode is not in the list of accessible paths when SAS is in the lockdown state.
ERROR: Error in the FILENAME statement.
48         DATA _NULL_;
49         CALL SYMPUT('_SASWORKINGDIR',PATHNAME('_CWD'));
50         RUN;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

51         FILENAME _CWD;
WARNING: No logical assign for filename _CWD.
52         
53         %LET _SASPROGRAMFILE = %NRQUOTE(%NRSTR(/folders/myfolders/MEPS/PortfolioCode/Exercise1a.sas));
54         %LET _EXECENV=SASStudio Background;
55         %LET _SASWS_ = %BQUOTE(/folders/myfolders);
56         %LET _SASWSTEMP_=%BQUOTE();
57         ODS LISTING CLOSE;
58         ODS AUTONAVIGATE OFF;
59         ODS GRAPHICS ON;
60         ODS HTML5 (ID=WEB) DEVICE=PNG GPATH="&_SASWSTEMP_" ENCODING=utf8 FILE=_HTMLOUT (TITLE='Results: Exercise1a.sas')
60       ! STYLE=Htmlblue OPTIONS(BITMAP_MODE='INLINE' OUTLINE='ON' SVG_MODE='INLINE'
60       ! CSS_PREFIX='.ods_007e1e0b-b2b4-4a81-b6e6-5591f5c2b9e4' BODY_ID='div_007e1e0b-b2b4-4a81-b6e6-5591f5c2b9e4' );
NOTE: Writing HTML5(WEB) Body file: _HTMLOUT
61         &GRAPHINIT;
62         OPTIONS FILELOCKS=( '/' FAIL );
63         /**********************************************************************************
64         
65         DESCRIPTION:  THIS PROGRAM GENERATES THE FOLLOWING ESTIMATES ON NATIONAL HEALTH CARE EXPENSES, 2017:
66         
67         	           (1) OVERALL EXPENSES
68         	           (2) PERCENTAGE OF PERSONS WITH AN EXPENSE
69         	           (3) MEAN EXPENSE PER PERSON WITH AN EXPENSE
70         
71         
72         INPUT FILE:   /folders/myfolders/MEPS/H201.SAS7BDAT (2017 FULL-YEAR FILE)
73         
74         *********************************************************************************/;
75         
76         /* set the library folder */
77         proc datasets lib=work nolist kill;
NOTE: Deleting WORK.REGSTRY (memtype=ITEMSTOR).
NOTE: File WORK.REGSTRY (memtype=ITEMSTOR) cannot be deleted because it is in use.
3                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

NOTE: Deleting WORK.SASGOPT (memtype=CATALOG).
NOTE: File WORK.SASGOPT (memtype=CATALOG) cannot be deleted because it is in use.
NOTE: Deleting WORK.SASMAC1 (memtype=CATALOG).
NOTE: File WORK.SASMAC1 (memtype=CATALOG) cannot be deleted because it is in use.
NOTE: Deleting WORK.SASMAC2 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC3 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC4 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC5 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC6 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC7 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC8 (memtype=CATALOG).
NOTE: Deleting WORK.SASMAC9 (memtype=CATALOG).
NOTE: Deleting WORK.SASMACR (memtype=CATALOG).
NOTE: File WORK.SASMACR (memtype=CATALOG) cannot be deleted because it is in use.
77       !                                     quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

77       !                                           /* delete  all files in the WORK library */
78         libname CDATA "/folders/myfolders/MEPS";
NOTE: Libref CDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /folders/myfolders/MEPS
79         
80         /* Create the categories for the data */
81         PROC FORMAT;
82           VALUE AGEF
83              .      = 'ALL AGES'
84              0-  64 = '0-64'
85              65-HIGH = '65+';
NOTE: Format AGEF has been output.
86         
87           VALUE AGECAT
88               .      = 'ALL AGES'
89         	   1 = '0-64'
90         	   2 = '65+';
NOTE: Format AGECAT has been output.
91         
92           VALUE GTZERO
93              0         = '0'
94              0 <- HIGH = '>0';
NOTE: Format GTZERO has been output.
95         
96           VALUE FLAG
97               .         = 'No or any expense'
98               0         = 'No expense'
99               1         = 'Any expense';
NOTE: Format FLAG has been output.
100        RUN;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

4                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

101        
102        TITLE1 'MIS500 Portfolio Project';
103        TITLE2 "EXERCISE1A.SAS: NATIONAL HEALTH CARE EXPENSES, 2017";
104        
105        /* READ IN DATA FROM 2017 CONSOLIDATED DATA FILE (HC-201) */
106        DATA PUF201;
107          SET CDATA.H201 (KEEP= TOTEXP17 AGE17X AGE42X AGE31X
108        	                      VARSTR   VARPSU   PERWT17F );
109        
110          TOTAL                = TOTEXP17;
111        
112          /* CREATE FLAG (1/0) VARIABLES FOR PERSONS WITH AN EXPENSE */
113          X_ANYSVCE=0;
114          IF TOTAL > 0 THEN X_ANYSVCE=1;
115        
116          /* CREATE A SUMMARY VARIABLE FROM END OF YEAR, 42, AND 31 VARIABLES*/
117        
118               IF AGE17X >= 0 THEN AGE = AGE17X ;
119          ELSE IF AGE42X >= 0 THEN AGE = AGE42X ;
120          ELSE IF AGE31X >= 0 THEN AGE = AGE31X ;
121        
122               IF 0 LE AGE LE 64 THEN AGECAT=1 ;
123          ELSE IF      AGE  > 64 THEN AGECAT=2 ;
124        RUN;

NOTE: There were 31880 observations read from the data set CDATA.H201.
NOTE: The data set WORK.PUF201 has 31880 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.96 seconds
      cpu time            0.49 seconds
      

125        
126        /* create the summary statistics */
127        TITLE3 "Summary Statistics for Selected Columns";
128        PROC MEANS DATA=PUF201;
129        RUN;

NOTE: There were 31880 observations read from the data set WORK.PUF201.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

130        
131        
132        /* Tables are created by using categories defined in format above */
133        TITLE3 "Supporting crosstabs for the flag variables";
134        PROC FREQ DATA=PUF201;
135           TABLES X_ANYSVCE*TOTAL
136                  AGECAT*AGE
137                  /LIST MISSING;
138           FORMAT TOTAL        	gtzero.
139                  AGE            agef.
140             ;
141        RUN;

NOTE: There were 31880 observations read from the data set WORK.PUF201.
5                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.06 seconds
      cpu time            0.05 seconds
      

142        
143        
144        /* Use Proc surveymeans to produce the data into a results dataset that will be input
145         * to the proc print statements that follow.  This allows the labels to be set and to
146         * seperate the categories of any expense and the total expense */
147        ods graphics off;
148        ods exclude all; /* Suppress the printing of output */
149        TITLE3 'PERCENTAGE OF PERSONS WITH AN EXPENSE & OVERALL EXPENSES';
150        PROC SURVEYMEANS DATA=PUF201 MEAN NOBS SUMWGT STDERR SUM STD;
151        	STRATUM VARSTR;
152        	CLUSTER VARPSU;
153        	WEIGHT PERWT17F;
154        	VAR  X_ANYSVCE TOTAL ;
155        	ods output Statistics=work.Overall_results;
156        RUN;

NOTE: Due to nonpositive weights, 1164 observation(s) were deleted.
NOTE: The data set WORK.OVERALL_RESULTS has 2 observations and 7 variables.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           0.07 seconds
      cpu time            0.05 seconds
      

157        
158        ods exclude none ; /* Unsuppress the printing of output */
159        TITLE3 'PERCENTAGE OF PERSONS WITH AN EXPENSE';
160        proc print data=work.Overall_results (firstobs=1 obs=1) noobs split='*';
161        var  N  SumWgt  mean StdErr  Sum stddev;
162         label SumWgt = 'Population*Size'
163               mean = 'Proportion'
164               StdErr = 'SE of Proportion'
165               Sum = 'Persons*with Any*Expense '
166               Stddev = 'SE of*Number*Persons*with*Any Expense';
167               format N SumWgt Comma12. mean comma7.2 stderr 7.5
168                      sum Stddev comma17.;
169        run;

NOTE: There were 1 observations read from the data set WORK.OVERALL_RESULTS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

170        
171        TITLE3 'OVERALL EXPENSES';
172        proc print data=work.Overall_results (firstobs=2) noobs split='*';
173        var  N  SumWgt  mean StdErr  Sum stddev;
174         label SumWgt = 'Population*Size'
175               mean = 'Mean($)'
176               StdErr = 'SE of Mean($)'
177               Sum = 'Total*Expense ($)'
178               Stddev = 'SE of*Total Expense($)';
179               format N SumWgt Comma12. mean comma9.2 stderr 9.5
6                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

180                      sum Stddev comma17.;
181        run;

NOTE: There were 1 observations read from the data set WORK.OVERALL_RESULTS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

182        
183        /* Same trick used here to put the table into a results dataset that can be then printed by categories in
184         * the subsequent proc print statement.  The printing has the three categories specified in the title */
185        ods exclude all; /* suspend all destinations */
186        TITLE3 'MEAN EXPENSE PER PERSON WITH AN EXPENSE, FOR OVERALL, AGE 0-64, AND AGE 65+';
187        PROC SURVEYMEANS DATA= PUF201 MEAN NOBS SUMWGT STDERR SUM STD;
188        	STRATUM VARSTR ;
189        	CLUSTER VARPSU ;
190        	WEIGHT  PERWT17F ;
191        	VAR  TOTAL;
192        	DOMAIN X_ANYSVCE('1')  X_ANYSVCE('1')*AGECAT ;
193        	FORMAT  AGECAT agecat.;
194        	ods output domain= work.domain_results;
195        RUN;

NOTE: Due to nonpositive weights, 1164 observation(s) were deleted.
NOTE: Only one cluster in a stratum for X_ANYSVCE domains for variable(s) TOTAL. The estimate of variance for TOTAL will omit this 
      stratum.
NOTE: Only one cluster in a stratum for X_ANYSVCE*AGECAT domains for variable(s) TOTAL. The estimate of variance for TOTAL will 
      omit this stratum.
NOTE: The data set WORK.DOMAIN_RESULTS has 3 observations and 10 variables.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           0.10 seconds
      cpu time            0.10 seconds
      

196        
197        ods exclude none ; /* Unsuppress the printing of output */
198        proc print data= work.domain_results noobs split='*';
199         var AGECAT  N  SumWgt  mean StdErr  Sum stddev;
200         label AGECAT = 'Age Group'
201               SumWgt = 'Population*Size'
202               mean = 'Mean($)'
203               StdErr = 'SE of Mean($)'
204               Sum = 'Total*Expense ($)'
205               Stddev = 'SE of*Total Expense($)';
206               format AGECAT agecat. N SumWgt Comma12. mean comma9.1 stderr 9.4
207                      sum Stddev comma17.;
208        run;

NOTE: There were 3 observations read from the data set WORK.DOMAIN_RESULTS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.02 seconds
      

209        ODS _ALL_ CLOSE;
210        /* THE PROC PRINTTO null step is required to close the PROC PRINTTO */
211        PROC PRINTTO;
7                                                          The SAS System                      Monday, February 24, 2020 08:32:00 PM

212        RUN;

